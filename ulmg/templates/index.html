{% extends "base.html" %}

{% block content %}
<style type="text/css" media="screen">
    ul.charts {
      margin: 0;
      padding: 0;
    }
    ul.charts li {
      font-size: 18px;
      line-height: 28px;
      margin: 0;
      padding: 0;
      list-style-type: none;
      border-bottom: 1px solid #fff;
    }
   ul.charts li span {
      background-color: #a9d2f2;
      display: block;
      color: #125a95;
      font-weight: bold;
      padding: 0 0 0 5px;
      white-space: nowrap;
    }
    ul.charts li span:hover {
      background-color: #ccc;
      display: block;
      color: #333;
      font-weight: bold;
      padding: 0 0 0 5px;
      white-space: nowrap;
    }
</style>
<div class="tile is-ancestor">
    <div class="tile is-vertical is-8">
        <div class="tile is-parent">
        <article class="tile is-child notification is-white">
            <p class="title">Search</p>
            <p class="subtitle">All players</p>
            <div class="content">
                {% include "includes/search_bar.html" %}
                <div class="columns">
                    <div class="column">
                        <p class="subtitle level-3">5 random available hitters</p>
                        <table class="table is-dark">
                            <tr>
                                <th>name</th>
                                <th>pos</th>
                                <th>pa</th>
                                <th>avg/obp/slg</th>
                            </tr>
                            {% for h in rand_hit %}
                            <tr>
                                <td><a target="_blank" href="{{ h.fangraphs_url }}">{{ h }}</a></td>
                                <td>{{ h.position }}</td>
                                <td>{{ h.stats.pa }}</td>
                                <td>{{ h.stats.avg }}/{{ h.stats.obp }}/{{ h.stats.slg }}</td>
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                    <div class="column">
                            <p class="subtitle level-3">5 random available pitchers</p>
                            <table class="table">
                                <tr>
                                    <th>name</th>
                                    <th>ip</th>
                                    <th>gs</th>
                                    <th>era</th>
                                </tr>
                                {% for p in rand_pitch %}
                                <tr>
                                    <td><a target="_blank" href="{{ p.fangraphs_url }}">{{ p }}</a></td>
                                    <td>{{ p.stats.ip }}</td>
                                    <td>{{ p.stats.gs }}</td>
                                    <td>{{ p.stats.era }}</td>
                                </tr>
                                {% endfor %}
                            </table>
                        </div>
                </div>
            </div>
        </article>
        </div>
        <div class="tile">
        <div class="tile is-parent is-vertical">
            <article class="tile is-child notification is-white">
                <p class="title">Browse carded players</p>
                <ul class="charts">{% for pos in carded_positions|slice:"5" %}
                    <li><a href="/players/search/?carded=true&position={{ pos.position }}"><span style="width: {% widthratio pos.position__count carded 700 %}px">{{ pos.position }} ({{ pos.position__count }})</span></a></li>
                {% endfor %}</ul>
            </article>
            <article class="tile is-child notification is-white">
                <p class="title">Browse uncarded players</p>
                <ul class="charts">{% for pos in uncarded_positions %}
                <li><a href="/players/search/?carded=false&position={{ pos.position }}"><span style="width: {% widthratio pos.position__count uncarded 700 %}px">{{ pos.position }} ({{ pos.position__count }})</span></a></li>
            {% endfor %}</ul>
            </article>
        </div>
        <div class="tile is-parent">
            <article class="tile is-child notification is-light">
            <p class="title">2018 Champion</p>
            <p class="subtitle">Hopefully not Long Island</p>
            <figure class="image is-4by3">
                <img src="http://t3.gstatic.com/images?q=tbn:ANd9GcTilsuEVyO-UCIZDZzcw60w-d1sKS2B7fOKdbp4GN5J-syvzjfa">
            </figure>
            </article>
        </div>
        </div>
    </div>
    <div class="tile is-parent">
        <article class="tile is-child notification is-white">
        <div class="content">
            <p class="title">Prospects</p>
            <p class="subtitle">Top available</p>
            <div class="content">
                <table class="table">
                    <tr>
                        <th>name</th>
                        <th>pos</th>
                        <th>ba</th>
                        <th>fg</th>
                        <th>mlb</th>
                    </tr>
                    {% for p in prospects %}
                    <tr>
                        <td><a href="{{ p.fangraphs_url }}">{{ p }}</a></td>
                        <td>{{ p.position }}</td>
                        <td>{{ p.ba_prospect_rank|default_if_none:"-"}}</td>
                        <td>{{ p.fg_prospect_rank|default_if_none:"-" }}</td>
                        <td>{{ p.mlb_prospect_rank|default_if_none:"-" }}</td>
                    </tr>
                {% endfor %}
                </table>

            </div>
        </div>
        </article>
    </div>
    </div>

{% endblock %}