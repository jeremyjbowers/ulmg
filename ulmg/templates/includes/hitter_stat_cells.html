{% load ulmg_tags %}
<td>{{ p.player.current_mlb_org|default_if_none:"-" }}</td>

<td class="cell-max-75">{% with best_stats=p.player.get_best_stat_season %}{% if best_stats and best_stats.defense_display %}{{ best_stats.defense_display }}{% else %}{{ p.player.position|default_if_none:"â€”" }}{% endif %}{% endwith %}</td>

<!-- <td data-value="{% if p.player.roster_status != "" %}{{ p.player.roster_status|default_if_none:"-" }}{% else %}-{% endif %}">
    {% if p.player.roster_status != "" %}{{ p.player.roster_status|default_if_none:"-" }}{% else %}-{% endif %}
</td> -->

<td data-value="{{ p.player.role_type|default_if_none:"-" }}">
    {{ p.player.role_type|default_if_none:"-" }}
</td>

<td data-value="{% if p.hit_stats.level %}2{% else %}{% if p.clean_classification == "mlb" %}1{% elif p.clean_classification == "npb" %}3{% elif p.clean_classification == "kbo" %}4{% elif p.clean_classification == "college" %}5{% else %}6{% endif %}{% endif %}">
    {% if p.hit_stats.level %}
        {{ p.hit_stats.level }}
    {% else %}
        {% if p.clean_classification == "mlb" %}
            MLB
        {% elif p.clean_classification == "npb" %}
            NPB
        {% elif p.clean_classification == "kbo" %}
            KBO
        {% elif p.clean_classification == "college" %}
            NCAA
        {% else %}
            -
        {% endif %}
    {% endif %}
</td>

<td data-value="{% if p.clean_classification %}{{ p.season }} {{ p.clean_classification|default_if_none:"-" }}{% else %}-{% endif %}">
    {% if p.clean_classification %}{{ p.season }} {{ p.clean_classification|default_if_none:"-" }}{% else %}-{% endif %}
</td>

<td data-value="{% if p.hit_stats %}{{ p.hit_stats.pa|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 %}{{ p.hit_stats.pa|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>
<td data-value="{% if p.hit_stats %}{{ p.hit_stats.avg|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 %}{{ p.hit_stats.avg|floatformat:3|kill_leading_zero|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>
<td data-value="{% if p.hit_stats %}{{ p.hit_stats.obp|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 %}{{ p.hit_stats.obp|floatformat:3|kill_leading_zero|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>
<td data-value="{% if p.hit_stats %}{{ p.hit_stats.slg|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 %}{{ p.hit_stats.slg|floatformat:3|kill_leading_zero|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>
<td data-value="{% if p.hit_stats %}{{ p.hit_stats.hr|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 %}{{ p.hit_stats.hr|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>
<td data-value="{% if p.hit_stats %}{{ p.hit_stats.sb|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 %}{{ p.hit_stats.sb|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>
<td data-value="{% if p.hit_stats %}{{ p.hit_stats.k_pct|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 %}{{ p.hit_stats.k_pct|percents_to_hundreds|floatformat:"1"|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>
<td data-value="{% if p.hit_stats %}{{ p.hit_stats.bb_pct|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 %}{{ p.hit_stats.bb_pct|percents_to_hundreds|floatformat:"1"|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>
<td data-value="{% if p.hit_stats %}{{ p.hit_stats.wrc_plus|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 %}{{ p.hit_stats.wrc_plus|floatformat:"0"|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>
<td data-value="{% if p.hit_stats %}{{ p.hit_stats.xavg|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 and p.hit_stats.xavg %}{{ p.hit_stats.xavg|floatformat:3|kill_leading_zero|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>
<td data-value="{% if p.hit_stats %}{{ p.hit_stats.xwoba|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 and p.hit_stats.xwoba %}{{ p.hit_stats.xwoba|floatformat:3|kill_leading_zero|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>
<td data-value="{% if p.hit_stats %}{{ p.hit_stats.xslg|default_if_none:"-999" }}{% else %}-999{% endif %}">
    {% if p.hit_stats %}{% if p.hit_stats.pa > 0 and p.hit_stats.xslg %}{{ p.hit_stats.xslg|floatformat:3|kill_leading_zero|default_if_none:"-" }}{% else %}-{% endif %}{% else %}-{% endif %}
</td>