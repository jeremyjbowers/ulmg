{% extends 'base.html' %}

{% block content %}

{% include "includes/search_bar.html" %}

<div class="columns">
    <div class="column">
        {% if players %}
            <p>Found {{ players.paginator.count }} player{% if players.paginator.count > 1 %}s{% endif %} that match your query.</p>
        {% else %}
            <p>No players found.</p>
        {% endif %}
    </div>
</div>

{% if players.paginator.count > 99 %}{% include "includes/pagination.html" %}{% endif %}

<table class="table">
    <tr>
        <th>name</th>
        <th>age</th>
        <th>position</th>
        <th>team</th>
        <th>owned?</th>
        <th>carded?</th>
        <th>prospect?</th>
    </tr>
    {% for p in players %}
        <tr>
            <td>{{ p.name }} <br/>
                {% if p.bbref_url or p.fangraphs_url %}<span class="outlinks">
                    {% if p.bbref_url %}<a target="_blank" href="{{ p.bbref_url }}">BaseballRef &Gt;</a>{% endif %}
                    {% if p.fangraphs_url %}<a target="_blank" href="{{ p.fangraphs_url }}">FanGraphs &Gt;</a>{% endif %}
                </span>{% endif %}
            </td>
            <td>{{ p.age }}</td>
            <td>{{ p.position }}</td>
            <td>{% if p.team %}<a href="/teams/{{ p.team.abbreviation }}/">{{ p.team }}</a>{% else %}-{% endif %}</td>
            <td style="text-align:center">{% if p.is_owned %}<span class="green">&checkmark;</span>{% else %}<span class="red">&cross;</span>{% endif %}</td>
            <td style="text-align:center">{% if p.is_carded %}<span class="green">&checkmark;</span>{% else %}<span class="red">&cross;</span>{% endif %}</td>
            <td style="text-align:center">{% if p.is_prospect %}<span class="green">&checkmark;</span>{% else %}<span class="red">&cross;</span>{% endif %}</td>
        </tr>
    {% endfor %}
</table>

{% if players.paginator.count > 99 %}{% include "includes/pagination.html" %}{% endif %}
{% endblock %}